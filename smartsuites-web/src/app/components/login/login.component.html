<!-- For Login -->
<nz-row *ngIf="this.formType==0">

  <div nz-col [nzSpan]="4" [nzOffset]="10">
    <nz-card>
      <ng-template #title>
        <i class="anticon anticon-login"></i>
        用户登录
      </ng-template>
      <ng-template #body>

        <form nz-form [formGroup]="validateLoginForm" class="login-form" (ngSubmit)="_submitLoginForm()">
          <div nz-form-item>
            <div nz-form-control>
              <nz-input formControlName="userName" [nzPlaceHolder]="'Username'" [nzSize]="'large'">
                <ng-template #prefix>
                  <i class="anticon anticon-user"></i>
                </ng-template>
              </nz-input>
              <div nz-form-explain *ngIf="validateLoginForm.controls.userName.dirty&&validateLoginForm.controls.userName.hasError('required')">请您输入用户名!</div>
            </div>
          </div>
          <div nz-form-item>
            <div nz-form-control>
              <nz-input formControlName="password" [nzType]="'password'" [nzPlaceHolder]="'Password'" [nzSize]="'large'">
                <ng-template #prefix>
                  <i class="anticon anticon-lock"></i>
                </ng-template>
              </nz-input>
              <div nz-form-explain *ngIf="validateLoginForm.controls.password.dirty&&validateLoginForm.controls.password.hasError('required')">请您输入登录密码!</div>
            </div>
          </div>
          <div nz-form-item>
            <div nz-form-control>

              <nz-select [nzPlaceHolder]="'选择角色'">
                <nz-option
                  *ngFor="let role of roles"
                  [nzLabel]="role.label"
                  [nzValue]="role.value"
                  [nzDisabled]="role.disabled">
                </nz-option>
              </nz-select>

              <div nz-form-explain *ngIf="validateLoginForm.controls.password.dirty&&validateLoginForm.controls.password.hasError('required')">请您输入登录密码!</div>
            </div>
          </div>
          <div nz-form-item>
            <div nz-form-control>
              <label nz-checkbox formControlName="remember">
                <span>记住我</span>
              </label>
              <a class="login-form-forgot" class="login-form-forgot" (click)="this.showForgetForm()">忘记密码</a>
              <button nz-button class="login-form-button" [nzType]="'primary'" [nzSize]="'large'"><i class="anticon anticon-login"></i><span>登  录</span></button>
              或者
              <a (click)="this.showRegisterForm()">现在注册！</a>
            </div>
          </div>
        </form>

      </ng-template>
    </nz-card>
  </div>

</nz-row>

<!-- For Register -->
<nz-row *ngIf="formType==1">

  <div nz-col [nzSpan]="6" [nzOffset]="9">
    <nz-card>
      <ng-template #title>
        <i class="anticon anticon-plus-circle-o"></i>
        用户注册
      </ng-template>
      <ng-template #body>

        <form nz-form [formGroup]="validateRegisterForm" (ngSubmit)="_submitRegisterForm()">
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="email" nz-form-item-required>电子邮件</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="email" [nzId]="'email'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('email').dirty&&getFormControl('email').hasError('email')">电子邮件地址不正确!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="password" nz-form-item-required>登录密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="password" [nzType]="'password'" [nzId]="'password'" (ngModelChange)="updateConfirmValidator()"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('password').dirty&&getFormControl('password').hasError('required')">请填写登录密码!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="checkPassword" nz-form-item-required>确认密码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="checkPassword" [nzType]="'password'" [nzId]="'checkPassword'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('checkPassword').dirty&&getFormControl('checkPassword').hasError('required')">请确认密码!</div>
              <div nz-form-explain *ngIf="getFormControl('checkPassword').dirty&&getFormControl('checkPassword').hasError('confirm')">两次输入密码不匹配!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="nickname" nz-form-item-required>
            <span>
              用户名称
              <nz-tooltip [nzTitle]="'展示在平台界面上'">
                <i nz-tooltip class="anticon anticon-question-circle-o"></i>
              </nz-tooltip>
            </span>
              </label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="nickname" [nzId]="'nickname'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('nickname').dirty&&getFormControl('nickname').hasError('required')">请填写用户名称!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="phoneNumber" nz-form-item-required>手机号码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback [nzValidateStatus]="validateRegisterForm.controls['phoneNumber']">
              <nz-input-group [nzSize]="'large'" nzCompact>
                <nz-select formControlName="phoneNumberPrefix" style="width: 25%;">
                  <nz-option [nzLabel]="'+86'" [nzValue]="'+86'"></nz-option>
                  <nz-option [nzLabel]="'+87'" [nzValue]="'+87'"></nz-option>
                </nz-select>
                <input formControlName="phoneNumber" id="'phoneNumber'" nz-input style="width: 75%;">
              </nz-input-group>
              <div nz-form-explain *ngIf="getFormControl('phoneNumber').dirty&&getFormControl('phoneNumber').hasError('required')">请填写手机号码!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="website" nz-form-item-required>用户类型</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24" nzHasFeedback>
              <nz-input [nzSize]="'large'" formControlName="website" [nzId]="'website'"></nz-input>
              <div nz-form-explain *ngIf="getFormControl('website').dirty&&getFormControl('website').hasError('required')">请选择用户角色!</div>
            </div>
          </div>
          <div nz-form-item nz-row>
            <div nz-form-label nz-col [nzSm]="6" [nzXs]="24">
              <label for="captcha" nz-form-item-required>验证码</label>
            </div>
            <div nz-form-control nz-col [nzSm]="14" [nzXs]="24">
              <div nz-row [nzGutter]="8">
                <div nz-col [nzSpan]="12">
                  <nz-input [nzSize]="'large'" formControlName="captcha" [nzId]="'captcha'"></nz-input>
                </div>
                <div nz-col [nzSpan]="12">
                  <button nz-button [nzSize]="'large'" (click)="getCaptcha($event)">获取验证码</button>
                </div>
              </div>
              <div nz-form-extra>We must make sure that your are a human.</div>
              <div nz-form-explain *ngIf="getFormControl('captcha').dirty&&getFormControl('captcha').hasError('required')">请输入验证码!</div>
            </div>
          </div>
          <div nz-form-item nz-row style="margin-bottom:8px;">
            <div nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
              <label nz-checkbox formControlName="agree">
                <span>我已经阅读并同意<a>平台相关协议</a></span>
              </label>
            </div>
          </div>
          <div nz-form-item nz-row style="margin-bottom:8px;">
            <div nz-form-control nz-col [nzSpan]="14" [nzOffset]="6">
              <button nz-button [nzSize]="'large'" [nzType]="'primary'"><i class="anticon anticon-plus-circle-o"></i><span>注  册</span></button>
               或者
              <a (click)="this.showLoginForm()">立即登录!</a>
            </div>
          </div>
        </form>

      </ng-template>
    </nz-card>
  </div>

</nz-row>

<!-- For Forget -->
<nz-row *ngIf="formType==2">

  <div nz-col [nzSpan]="4" [nzOffset]="10">
    <nz-card>
      <ng-template #title>
        <i class="anticon anticon-logout"></i>
        忘记密码
      </ng-template>
      <ng-template #body>

        <form nz-form [formGroup]="validateLoginForm" class="login-form" (ngSubmit)="_submitLoginForm()">
          <div nz-form-item>
            <div nz-form-control>
              <nz-input formControlName="userName" [nzPlaceHolder]="'Username'" [nzSize]="'large'">
                <ng-template #prefix>
                  <i class="anticon anticon-mail"></i>
                </ng-template>
              </nz-input>
              <div nz-form-explain *ngIf="validateLoginForm.controls.userName.dirty&&validateLoginForm.controls.userName.hasError('required')">请您输入注册邮箱!</div>
            </div>
          </div>
          <div nz-form-item>
            <div nz-form-control>
              <button nz-button class="login-form-button" [nzType]="'primary'" [nzSize]="'large'"><i class="anticon anticon-logout"></i><span>发送邮件</span></button>
              或者
              <a (click)="this.showLoginForm()">现在登录！</a>
            </div>
          </div>
        </form>

      </ng-template>
    </nz-card>
  </div>

</nz-row>

