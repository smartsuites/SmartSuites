<div>
  <!-- selector -->
  <div *ngIf="!this.notebookCom.viewOnly">
    <div id="{{id}}_switch"
         *ngIf="(type == 'TABLE' || type == 'NETWORK' || apps.length > 0 || suggestion.available && suggestion.available.length > 0) && !asIframe && !viewOnly"
         class="result-chart-selector">

      <!--<div *ngIf="type == 'TABLE' || type == 'NETWORK'" style="margin-top: 5px; float: left;">-->
      <div style="margin-top: 5px; float: left;">
        <button pButton type="button" class="ui-button-secondary"
                *ngFor="let viz of builtInTableDataVisualizationList; let idex= index"
                ng_Class="{'active' : viz.id == graphMode && !config.helium.activeApp}"
                (click)="switchViz(viz.id)"
                pTooltip="{{viz.name ? viz.name : ''}}" tooltipPosition="bottom" icon="{{viz.icon}}">
        </button>
      </div>

      <div class="btn-group">
        <button pButton type="button"
                *ngIf="type != 'TABLE' && type != 'NETWORK'"
                (click)="switchApp()"
                ng_Class="{'active' : !config.helium.activeApp}"
                class="btn btn-default btn-sm">
          <i class="fa fa-terminal"></i>
        </button>

        <button pButton type="button"
                class="btn btn-default btn-sm"
                *ngFor="let app of apps"
                (click)="switchApp(app.id)"
                ng_Class="{'active' : app.id == config.helium.activeApp}"
                ng-bind-html="app.pkg.icon">
        </button>
      </div>
    </div>

    <!--<div id="{{paragraph.id}}_helium"
         ng-if="(suggestion.available && suggestion.available.length > 0) && !asIframe && !viewOnly"
         class="btn-group"
         style="margin-bottom: 10px;">
      <button pButton type="button"
              class="btn btn-default btn-sm dropdown-toggle"
              data-toggle="dropdown"
              style="font-weight:bold; background-color:#ffdf96; border: 1px solid #FED233">
        He
      </button>
      <ul class="dropdown-menu"
          style="z-index:1002"
          ng-if="suggestion.available && suggestion.available.length > 0"
          role="menu">
        <li class="appSuggestion">
          <div ng-repeat="pkgInfo in suggestion.available"
               style="margin-bottom:5px">
            <button type="button"
                    class="btn btn-default btn-sm"
                    ng-click="loadApp(pkgInfo.pkg)"
                    ng-bind-html="pkgInfo.pkg.icon">
            </button>
            &lt;!&ndash;<span class="inline">{{pkgInfo.pkg.name}}</span>&ndash;&gt;
          </div>
        </li>
      </ul>
    </div>-->

    <div *ngIf="(type == 'TABLE' || type == 'NETWORK') && !asIframe && !viewOnly"
         style="margin-top: 5px; float: left; margin-left: 5px">

      <p-splitButton label="CSV"
                     (onClick)="exportToDSV(',')"
                     [model]="items" styleClass="ui-button-secondary"
                     pTooltip="Download Data as CSV" tooltipPosition="bottom"></p-splitButton>

    </div>

    <!--<span *ngIf="(type == 'TABLE' || type == 'NETWORK') && !config.helium.activeApp && !asIframe && !viewOnly"-->
    <span *ngIf="(type == 'TABLE' || type == 'NETWORK') && !asIframe && !viewOnly"
          style="margin-left:10px; cursor:pointer; display: inline-block; vertical-align:top; position: relative; line-height:40px;">
      <a class="btnText" (click)="toggleGraphSetting()">
        settings <span [ngClass]="config.graph.optionOpen ? 'fa fa-caret-up' : 'fa fa-caret-down'"></span>
      </a>
    </span>

  </div>

  <!-- selector end -->

  <div id="p{{id}}_resize" style="padding-bottom: 5px;">

    <!--resize='{"allowresize": "{{!asIframe && !viewOnly}}", "graphType": "{{type}}"}'
    resizable on-resize="resize(width, height);"
    -->

    <div *ngIf="type=='TABLE' || type == 'NETWORK'"
         ng-style="getPointerEvent()">
      <!-- setting -->
      <div class="option lightBold" style="overflow: visible;"
           ng-show="config.graph.optionOpen && !asIframe && !viewOnly">

        <div *ngFor="let viz of builtInTableDataVisualizationList; let i = index"
             id="trsetting{{id}}_{{viz.id}}" #trsetting
             ng-show="graphMode == viz.id"></div>

        <div *ngFor="let viz of builtInTableDataVisualizationList; let i = index"
             id="vizsetting{{id}}_{{viz.id}}" #vizsetting
             ng-show="graphMode == viz.id"></div>

      </div>

      <!-- network -->
      <div id="p{{id}}_network_header" #p_result_network_header
           *ngIf="type == 'NETWORK' && graphMode == 'network' && networkNodes != null">
        <ul class="list-inline">
          <li>Nodes <span class="badge">{{networkNodes.count}}</span>:</li>
          <li *ngFor="let item of networkNodes.labels" style="padding: 0">
             <span style="background-color: {{item.labelColor}} !important;" class="label label-default network-badge">
               {{item.labelName}}
             </span>
          </li>
        </ul>
        <ul class="list-inline">
          <li *ngIf="networkRelationships != null">Relationships <span class="badge">{{networkRelationships.count}}</span>:</li>
          <li *ngFor="let type of networkRelationships.types" style="padding: 0">
             <span class="label label-default network-badge">
               {{type}}
             </span>
          </li>
        </ul>
      </div>

      <!-- graph -->
      <div id="p{{id}}_graph"
           class="graphContainer"
           [ngClass]="{'noOverflow': graphMode=='table'}">
        <div *ngFor="let viz of builtInTableDataVisualizationList; let i = index"
             id="p{{id}}_{{viz.id}}"
             [hidden]="graphMode != viz.id">
        </div>
      </div>

      <div id="p{{id}}_network_footer" #p_result_network_footer
           *ngIf="type == 'NETWORK' && graphMode == 'network'">
        <ul class="list-inline">
        </ul>
      </div>

      <div id="{{id}}_comment" #p_result_comment
           class="text"
           *ngIf="tableDataComment"
           ng-bind-html="tableDataComment">
      </div>
    </div>

    <div *ngIf="type == 'TEXT'"
         class="plainTextContainer"
         ng-style="getPointerEvent()">
      <!--<div class="fa fa-level-down scroll-paragraph-down"
           ng-show="showScrollDownIcon()"
           ng-click="scrollParagraphDown()"
           pTooltip="Follow Output" tooltipPosition="bottom"></div>-->
      <div id="p{{id}}_text"
           class="text plainTextContent"></div>
      <!--<div class="fa fa-chevron-up scroll-paragraph-up"
           ng-show="showScrollUpIcon()"
           ng-click="scrollParagraphUp()"
           pTooltip="Scroll Top" tooltipPosition="bottom"></div>-->
    </div>

    <div id="p{{id}}_custom" #p_result_custom
         class="resultContained"
         *ngIf="!isDefaultDisplay()"
         ng-style="getPointerEvent()">
    </div>

    <div id="p{{id}}_elem" #p_result_elem
         class="resultContained"
         *ngIf="type == 'ELEMENT'"
         ng-style="getPointerEvent()">
    </div>

    <div id="p{{id}}_html" #p_result_html
         class="resultContained"
         *ngIf="type == 'HTML'"
         ng-style="getPointerEvent()">
    </div>

    <div id="p{{id}}_angular" #p_result_angular
         class="resultContained"
         *ngIf="type == 'ANGULAR'"
         ng-style="getPointerEvent()">
    </div>

    <img id="{{id}}_img" #p_result_img
         *ngIf="type == 'IMG'"
         src="{{getBase64ImageSrc(result.data)}}"
         ng-style="getPointerEvent()" />
  </div>

  <div *ngFor="let app of apps">
    <div id="p{{app.id}}"
         ng-show="config.helium.activeApp == app.id"
         ng-style="getPointerEvent()">
    </div>
  </div>

</div>

